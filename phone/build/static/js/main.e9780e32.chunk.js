(this.webpackJsonpphone=this.webpackJsonpphone||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(15),o=t.n(r),a=t(6),i=t(4),u=t(3),s=t.n(u),j=t(0),d=function(e){var n=e.person,t=e.deleteOP;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{children:[n.name," ",n.number]},n.id),Object(j.jsx)("button",{onClick:function(){return t(n.id,n.name)},children:"delete"})]})},b=function(e){var n=e.search,t=e.persons,c=e.delPerson;return Object(j.jsx)("div",{children:t.filter((function(e){return""===n||e.name.toLowerCase().includes(n.toLowerCase())?e:void 0})).map((function(e){return Object(j.jsx)("p",{children:Object(j.jsx)(d,{person:e,deleteOP:c})},e.id)}))})},h="/api/persons",f=function(){return s.a.get(h).then((function(e){return e.data}))},l=function(e){return s.a.post(h,e).then((function(e){return e.data}))},O=function(e,n){return s.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))};var p=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),d=u[0],h=u[1],p=Object(c.useState)(""),m=Object(i.a)(p,2),v=m[0],x=m[1],w=Object(c.useState)(""),g=Object(i.a)(w,2),C=g[0],k=g[1];return Object(c.useEffect)((function(){f().then((function(e){return r(e)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Phonebook"}),"Filter shown with:",Object(j.jsx)("input",{value:d,onChange:function(e){h(e.target.value)}}),Object(j.jsx)("h2",{children:"Add a new"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=t.some((function(e){return e.name===v}));if(v&&v||alert("Name or number empty"),n){if(window.confirm("".concat(v," is already added to phonebook,replace the number with new one?"))){var c=t.find((function(e){return e.name===v})),o=c.id,i=Object(a.a)(Object(a.a)({},c),{},{number:C});O(o,i).then((function(e){r(t.concat(e)),x(""),k("")}))}}else l({name:v,number:C}).then((function(e){r(t.concat(e)),x(""),k("")}))},children:[Object(j.jsxs)("div",{children:["name: ",Object(j.jsx)("input",{value:v,onChange:function(e){x(e.target.value)}}),Object(j.jsx)("br",{}),"Number: ",Object(j.jsx)("input",{value:C,onChange:function(e){k(e.target.value)}})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",children:"add"})})]}),Object(j.jsx)("h2",{children:"Numbers"}),Object(j.jsx)(b,{search:d,persons:t,delPerson:function(e,n){if(window.confirm("Delete ".concat(n,"?")))return s.a.delete("/api/persons/".concat(e)).then((function(e){return e.data}))}})]})};o.a.render(Object(j.jsx)(p,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.e9780e32.chunk.js.map